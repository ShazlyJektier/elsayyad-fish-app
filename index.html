<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ุงูุตูุงุฏ ูุชุฌุงุฑุฉ ุงูุฃุณูุงู | ูุงุฆูุฉ ุงูุทูุจุงุช</title>
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#0f172a">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        body { font-family: 'Tajawal', sans-serif; -webkit-tap-highlight-color: transparent; background-color: #f8fafc; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .glass-header { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); border-bottom: 1px solid #e2e8f0; }
        .product-card { transition: all 0.2s ease; }
        .product-card:active { transform: scale(0.98); }
        .category-btn.active { background-color: #2563eb; color: white; box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3); border-color: transparent; }
        .add-btn { box-shadow: 0 2px 8px rgba(37, 99, 235, 0.2); }
    </style>
</head>
<body class="pb-32 select-none text-slate-800">

    <div id="loader" class="fixed inset-0 bg-white z-[999] flex flex-col items-center justify-center transition-opacity duration-500">
        <div class="text-4xl animate-bounce mb-4">๐</div>
        <p class="font-bold text-slate-500">ุฌุงุฑู ุชุญููู ูุงุฆูุฉ ุงูุตูุงุฏ...</p>
    </div>

    <header class="fixed top-0 left-0 right-0 z-50 glass-header px-4 py-3">
        <div class="max-w-md mx-auto flex justify-between items-center">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center text-white text-lg shadow-blue-200 shadow-lg">
                    <i class="fa-solid fa-anchor"></i>
                </div>
                <div>
                    <h1 class="font-black text-lg leading-none text-slate-900">ุงูุตูุงุฏ ุจุฑู</h1>
                    <p class="text-[10px] text-slate-500 font-bold mt-1">ุทุงุฒุฉ ูู ุงูุจุญุฑ ูุจุงุจ ุจูุชู</p>
                </div>
            </div>
            <button onclick="document.getElementById('info-modal').style.display='flex'" class="w-9 h-9 bg-slate-100 rounded-full text-slate-500">
                <i class="fa-solid fa-store"></i>
            </button>
        </div>
    </header>

    <main class="max-w-md mx-auto pt-20 px-4">
        
        <div class="bg-gradient-to-br from-blue-700 to-blue-500 rounded-2xl p-4 text-white shadow-lg mb-6 relative overflow-hidden">
            <div class="relative z-10">
                <h2 class="font-bold text-lg mb-1">ุฃููุงู ุจู ูุง ููุฏู ๐</h2>
                <p class="text-xs opacity-90 leading-relaxed">ุฌููุน ุงูุฃุณูุงู ุทุงุฒุฉ ูุฑูุดุ ุจุฃุณุนุงุฑ ุงููููุงุก.</p>
            </div>
            <i class="fa-solid fa-fish absolute -left-4 -bottom-4 text-8xl text-white opacity-10 rotate-12"></i>
        </div>

        <div class="bg-white p-4 rounded-2xl shadow-sm border border-slate-100 mb-5">
            <div class="flex gap-2">
                <input type="text" id="cust-name" placeholder="ุงูุงุณู ุงููุฑูู" class="flex-1 bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-sm font-bold outline-none focus:border-blue-500 transition-colors">
                <div class="dir-ltr">
                    <input type="tel" id="cust-phone" placeholder="ุฑูู ุงููุงุชู" class="w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-sm font-bold outline-none focus:border-blue-500 transition-colors text-right">
                </div>
            </div>
        </div>

        <div class="sticky top-[68px] z-40 bg-[#f8fafc]/95 backdrop-blur py-2 mb-2 -mx-4 px-4 overflow-x-auto no-scrollbar flex gap-2" id="cats-container">
            </div>

        <div class="relative mb-4">
            <i class="fa-solid fa-search absolute right-4 top-3.5 text-slate-400 text-sm"></i>
            <input type="text" id="search-box" onkeyup="filterProducts()" placeholder="ุงุจุญุซ ูู ุงููููู (ูุซูุงู: ุฌูุจุฑู)..." class="w-full bg-white border border-slate-200 rounded-xl pr-10 pl-4 py-3 text-sm font-bold outline-none focus:border-blue-500 shadow-sm">
        </div>

        <div id="products-grid" class="space-y-3 pb-8">
            </div>

    </main>

    <div id="cart-bar" class="fixed bottom-6 left-4 right-4 max-w-md mx-auto z-50 transform translate-y-[150%] transition-transform duration-300">
        <button onclick="checkout()" class="w-full bg-slate-900 text-white p-2 rounded-[25px] shadow-2xl flex items-center pr-2 pl-6 gap-4 active:scale-95 transition-transform">
            <div class="bg-blue-600 w-10 h-10 rounded-full flex items-center justify-center font-black shadow-lg text-sm" id="cart-count">0</div>
            <div class="flex-1 text-right">
                <div class="font-black text-base">ุฅุชูุงู ุงูุทูุจ</div>
                <div class="text-[10px] opacity-70">ุนุจุฑ ูุงุชุณุงุจ ูุจุงุดุฑุฉ ๐</div>
            </div>
            <div class="text-left pl-2">
                <span class="font-black text-lg text-blue-400" id="cart-total">0</span>
                <span class="text-xs text-slate-400">ุฌููุฉ</span>
            </div>
        </button>
    </div>

    <div id="info-modal" class="fixed inset-0 z-[100] bg-black/60 backdrop-blur-sm hidden items-center justify-center p-4" onclick="this.style.display='none'">
        <div class="bg-white w-full max-w-sm rounded-3xl p-6 shadow-2xl relative" onclick="event.stopPropagation()">
            <h3 class="font-black text-xl mb-4 text-center text-blue-600">ุนู ุงูุตูุงุฏ</h3>
            <ul class="space-y-3 text-sm font-bold text-slate-600 list-disc pr-4">
                <li>ุงููุฑุน ุงูุฑุฆูุณู: ุงูุฅุณููุฏุฑูุฉ (ูููุงุก ุฃุณูุงู ุงููุนุฏูุฉ)</li>
                <li>ุงููุฑุน ุงูุซุงูู: ูุญุงูุธุฉ ุงูุจุญุฑ ุงูุฃุญูุฑ</li>
                <li>ููุฌุฏ ุชูุตูู ููุญุงูุธุงุช ุงูุตุนูุฏ</li>
                <li>ุฃุณุนุงุฑ ุฎุงุตุฉ ููููุงุฏู ูุงููุทุงุนู</li>
            </ul>
            <div class="mt-6 text-center">
                <p class="text-xs text-slate-400">ุชู ุงูุชุทููุฑ ุจูุงุณุทุฉ: ุงูุตูุงุฏ ุจุฑู v2.1</p>
            </div>
            <button onclick="document.getElementById('info-modal').style.display='none'" class="absolute top-4 right-4 text-slate-400 hover:text-red-500">
                <i class="fa-solid fa-times text-xl"></i>
            </button>
        </div>
    </div>

<script>
    // ==========================================
    // โ๏ธ ุฅุนุฏุงุฏุงุช ุงููุชุฌุฑ (ูู ุจุชุนุฏูู ุงูุฑูู ููุง)
    // ==========================================
    const CONFIG = {
        whatsappNumber: "201000000000", // ๐ ุถุน ุฑูู ุงููุงุชุณุงุจ ููุง (ูุน ููุฏ ุงูุฏููุฉ 2)
        shopName: "ุดุฑูุฉ ุงูุตูุงุฏ ูุชุฌุงุฑุฉ ุงูุฃุณูุงู"
    };

    // ==========================================
    // ๐ฆ ูุงุนุฏุฉ ุจูุงูุงุช ุงูููุชุฌุงุช (ูู ููู PDF)
    // ==========================================
    // ุชู ุงุณุชุฎุฏุงู ุตูุฑ ุชูุถูุญูุฉ ูุฃู ุงูููู ุงูุฃุตูู ูุต ููุท
    const PRODUCTS_DB = [
        // --- ุฑูู ุงูุฃุณูุงู ---
        {id: 1, cat: "ุงูุฃุณูุงู ๐", name: "ุจูุฑู ูุณุท (3 ู ูููู)", price: 220, img: "https://images.unsplash.com/photo-1598511757337-fe2cafc31ba0?w=400"},
        {id: 2, cat: "ุงูุฃุณูุงู ๐", name: "ุจุฑุจููู", price: 300, img: "https://images.unsplash.com/photo-1535916056636-97b709748d4d?w=400"},
        {id: 3, cat: "ุงูุฃุณูุงู ๐", name: "ุณุฑุฏูู", price: 150, img: "https://images.unsplash.com/photo-1606850780554-b55d2acfa5da?w=400"},
        {id: 4, cat: "ุงูุฃุณูุงู ๐", name: "ููุฑููุฉ", price: 190, img: "https://images.unsplash.com/photo-1627993079948-26f63454b5df?w=400"},
        {id: 5, cat: "ุงูุฃุณูุงู ๐", name: "ูุงูุฑูู ูุจูุฑ", price: 170, img: "https://images.unsplash.com/photo-1544943910-4c1dc44a6e8b?w=400"},
        {id: 6, cat: "ุงูุฃุณูุงู ๐", name: "ูุงููุฑ ุชุตุฏูุฑ", price: 380, img: "https://images.unsplash.com/photo-1534948216015-843143f7aa67?w=400"},
        {id: 7, cat: "ุงูุฃุณูุงู ๐", name: "ุดุนูุฑ ุญุฑ", price: 380, img: "https://images.unsplash.com/photo-1615141982880-1313d4182060?w=400"},
        {id: 8, cat: "ุงูุฃุณูุงู ๐", name: "ุฎุฑูุช", price: 220, img: "https://images.unsplash.com/photo-1574781330855-d0db8cc6a79c?w=400"},
        {id: 9, cat: "ุงูุฃุณูุงู ๐", name: "ุณูููู ุฌุฒู ุตุงูู", price: 800, img: "https://images.unsplash.com/photo-1599084993091-1cb5c0721cc6?w=400"},
        {id: 10, cat: "ุงูุฃุณูุงู ๐", name: "ููููู ุจูุงุถ", price: 340, img: "https://images.unsplash.com/photo-1519708227418-c8fd9a32b7a2?w=400"},
        {id: 11, cat: "ุงูุฃุณูุงู ๐", name: "ููููู ุชููุฉ", price: 340, img: "https://images.unsplash.com/photo-1599322082200-e79c2354c0e5?w=400"},

        // --- ุฑูู ุงููุณููุฑ ---
        {id: 12, cat: "ุงููุณููุฑ ๐ฆ", name: "ุงุณุชุงููุฒุง ูุณุท", price: 1200, img: "https://images.unsplash.com/photo-1551248429-40975aa4de74?w=400"},
        {id: 13, cat: "ุงููุณููุฑ ๐ฆ", name: "ุฌูุจุฑู ุฌุงูุจู", price: 850, img: "https://images.unsplash.com/photo-1565680018434-b513d5e5fd47?w=400"},
        {id: 14, cat: "ุงููุณููุฑ ๐ฆ", name: "ุฌูุจุฑู ูุจูุฑ", price: 750, img: "https://images.unsplash.com/photo-1623961990059-28356e226a77?w=400"},
        {id: 15, cat: "ุงููุณููุฑ ๐ฆ", name: "ุฌูุจุฑู ูุณุท", price: 650, img: "https://images.unsplash.com/photo-1559742811-822873691df8?w=400"},
        {id: 16, cat: "ุงููุณููุฑ ๐ฆ", name: "ุฌูุจุฑู ูุญู ุตุบูุฑ", price: 650, img: "https://images.unsplash.com/photo-1625937751876-4515cd8e78bd?w=400"},
        {id: 17, cat: "ุงููุณููุฑ ๐ฆ", name: "ุฃุฎุทุจูุท ูุณุท", price: 450, img: "https://images.unsplash.com/photo-1594910609328-913a579698d2?w=400"},
        {id: 18, cat: "ุงููุณููุฑ ๐ฆ", name: "ุฃุฎุทุจูุท ุตุบูุฑ", price: 350, img: "https://images.unsplash.com/photo-1565541016629-37367c327299?w=400"},
        {id: 19, cat: "ุงููุณููุฑ ๐ฆ", name: "ุณุจูุท ูุจูุฑ", price: 480, img: "https://images.unsplash.com/photo-1605493636502-df660e527f30?w=400"},
        {id: 20, cat: "ุงููุณููุฑ ๐ฆ", name: "ุจุทุงุฑุฎ", price: 650, img: "https://images.unsplash.com/photo-1623594830172-27712e52418e?w=400"},
        {id: 21, cat: "ุงููุณููุฑ ๐ฆ", name: "ูุงูููุงุฑู ูุจูุฑ", price: 450, img: "https://images.unsplash.com/photo-1605493636496-e137b2d5a7d7?w=400"},
        {id: 22, cat: "ุงููุณููุฑ ๐ฆ", name: "ูุงูููุงุฑู ูุณุท", price: 400, img: "https://images.unsplash.com/photo-1590758406208-4f89d31d9995?w=400"},
        {id: 23, cat: "ุงููุณููุฑ ๐ฆ", name: "ุจูุญ ุจุญุฑ ูุจูุฑ", price: 200, img: "https://images.unsplash.com/photo-1562919934-2df3556012cc?w=400"},
        {id: 24, cat: "ุงููุณููุฑ ๐ฆ", name: "ุฌูุฏูููู", price: 220, img: "https://images.unsplash.com/photo-1616782293888-29408b8b3765?w=400"},
        
        // --- ูุฌุจุงุช ุงูุตูุงุฏ ---
        {id: 25, cat: "ูุฌุจุงุช ุงูุตูุงุฏ ๐ฅ", name: "ุณู ููุฏ ุงูุตูุงุฏ (ูููู)", price: 350, img: "https://images.unsplash.com/photo-1626804475297-411d8634521d?w=400"},
        {id: 26, cat: "ูุฌุจุงุช ุงูุตูุงุฏ ๐ฅ", name: "ุณู ููุฏ ุงูุตูุงุฏ (ูุตู ูููู)", price: 200, img: "https://images.unsplash.com/photo-1553163147-622ab57be1c7?w=400"},
    ];

    let cart = {}; 
    let activeCat = 'ุงููู';

    // ==========================================
    // ๐ ููุฏ ุงูุชุดุบูู ุงูุฃุณุงุณู
    // ==========================================
    window.onload = () => {
        loadUserData();
        loadCart();
        renderCategories();
        renderProducts();
        
        // ุฅุฎูุงุก ุดุงุดุฉ ุงูุชุญููู
        setTimeout(() => {
            document.getElementById('loader').style.opacity = '0';
            setTimeout(() => document.getElementById('loader').style.display = 'none', 500);
        }, 800);
    };

    function renderCategories() {
        const cats = ['ุงููู', ...new Set(PRODUCTS_DB.map(p => p.cat))];
        document.getElementById('cats-container').innerHTML = cats.map(c => `
            <button onclick="setActiveCat('${c}')" 
                class="category-btn px-5 py-2 rounded-xl text-xs font-bold whitespace-nowrap transition-all border border-slate-200 bg-white text-slate-500 ${activeCat === c ? 'active' : ''}">
                ${c}
            </button>
        `).join('');
    }

    function setActiveCat(c) {
        activeCat = c;
        renderCategories();
        renderProducts();
    }

    function renderProducts() {
        const query = document.getElementById('search-box').value.toLowerCase();
        
        let filtered = PRODUCTS_DB;
        if (activeCat !== 'ุงููู') filtered = filtered.filter(p => p.cat === activeCat);
        if (query) filtered = filtered.filter(p => p.name.toLowerCase().includes(query));

        const html = filtered.map(p => {
            const qty = cart[p.id] ? cart[p.id].qty : 0;
            return `
            <div class="product-card bg-white p-3 rounded-2xl shadow-sm border border-slate-50 flex gap-3 items-center">
                <div cla